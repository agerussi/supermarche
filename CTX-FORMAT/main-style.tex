\def\path{CTX-FORMAT}%

% format du papier
\setuppapersize[A4]
\setuplayout [width=fit,
  rightmargin=1cm,
  leftmargin=1cm,
  leftmargindistance=8pt,
  rightmargindistance=8pt,
  height=fit,
  header=15pt,
  headerdistance=15pt,
  footer=15pt,
  footerdistance=10pt,
  topspace=1cm,
  backspace=2cm,
  bottomspace=1cm,
  bottom=12pt,
  location=singlesided]
\setuppagenumber[state=start]
\setuppagenumbering[location={footer,inmargin}]
\unexpanded\def\HeadTitle#1#2%
{\hbox to \hsize \bgroup
\hfill
\setupframed[offset=.25em,frame=off]
\tbox{\framed[width=3cm,align=left]{#1\kern1ex}}%
\tbox{\framed[align=right,leftframe=on]{\kern1ex#2}}%
\egroup}
%\setupheads[subsection][command=\HeadTitle]
\setupheads[command=\HeadTitle]

%\setupheads[alternative=inmargin]

% les macros pour titres spéciaux
%\def\Title#1{\midaligned{\tfc #1}\blank[5pt]\hrule}

% les fontes
\usetypescript[palatino][ec]
\setupbodyfont[palatino,12pt]
\definefontsize[e]
\definebodyfontenvironment
  [default]
  [e=4]

\setupcolors[state=stop]

% les pretty-print
\usemodule[t-vim]
\definevimtyping[JS][lines=split, syntax=javascript, directory=../FORMAT/vimoutput/]
\definevimtyping[HTML][lines=split, syntax=html, directory=../FORMAT/vimoutput/]
\definevimtyping[TEX][lines=split, syntax=tex, directory=../FORMAT/vimoutput/]
\definevimtyping[CSS][lines=split, syntax=css, directory=../FORMAT/vimoutput/]
\definevimtyping[XML][lines=split, syntax=xml, directory=../FORMAT/vimoutput/]

% différents réglages de mise en page
\definedescription[glossaire][location=top,headstyle=bold]
\definedescription[log][]

% divers
\mainlanguage[fr]
\setupinteraction[state=start]
\definetyping[PL][option=color]
